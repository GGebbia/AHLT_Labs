
# Laboratory 2: ML-Based NERC
> In this laboratory we are aimed to read XML files, scan and detect the most relevant features of entities and create a ML model capable of learning when a sentence contains information of drug, brands and groups.




## Main Scripts
The main scripts for this task are:   
`feature_extractor.py`: Parse XML files and extract the features with **INTERNAL** knowledge in a .dat saved in the desired folder.  
`feature_extractor_with_knowledge.py`: Parse XML files and extract the features with **EXTERNAL** knowledge in a .dat saved in the deired folder.  and   
`ML_model.py`: Loads megam.dat of each training and testing dataset and train, test and evaluate the results. Results are saved in the desired directory (default are FINAL_RESULTS dir)  

Each of these scripts contains its corresponding usage, so execute, for example 
```sh
python3 feature_extractor.py -h 
```

## Usage example

The user can execute the script simply by opening a terminal and writing:
```sh
./script.sh <train-dataset> <test-dataset>

./script.sh Train Devel 
./script.sh Train Test-NER
```
or if it is desired to execute the script using the external knowledge
```sh
./script_with_knowledge.sh <train-dataset> <test-dataset>

./script_with_knowledge.sh Train Devel 
./script_with_knowledge.sh Train Test-NER
```
**Note**: ./script_with_knowledge executes four times the feature_extractor.sh and each run can last at most 45 min. 

## Results
If the user just want to see the results without executing any script, they are located in:   

FINAL_RESULTS  
|-- knowledge_Devel  
|   |-- goldNER.txt  
|   |-- predicted_scores.log  
|   -- predicted.txt  
|-- knowledge_Test-DDI  
|   |-- goldNER.txt  
|   |-- predicted_scores.log  
|   -- predicted.txt  

Where
**model.crfsuite**: ML model saved  
**predicted_scores.log**: Logs generated by evaluateNER.jar with the desired results  
**predicted.txt**: Details of each entity with its predicted label.  

## Meta

Gian Carlo Gebbia – gianca.gebbia@gmail.com 
Marc Villa –  marc.illa.95@gmail.com
Universitat Politècnica de Barcelona – M.A.I / M.E.I

[Github repository](https://github.com/GGebbia/AHLT_Labs)
